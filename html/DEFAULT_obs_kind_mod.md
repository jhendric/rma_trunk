[]{#TOP}

MODULE DEFAULT\_obs\_kind\_mod
==============================

+-----------------------------------+-----------------------------------+
| ![DART project                    | Jump to [DART Documentation Main  |
| logo](../../../documentation/imag | Index](../../../documentation/ind |
| es/Dartboard7.png){height="70"}   | ex.html)\                         |
|                                   | version information for this      |
|                                   | file:\                            |
|                                   | \$Id\$                            |
+-----------------------------------+-----------------------------------+

[TERMS OF USE](#Legalese)

Overview
--------

The observation types supported by DART are defined at the time the
programs are compiled. Only those observation types of interest need to
be included. This is the input template file which is read by the
program *preprocess* to create the *obs\_kind\_mod.f90* (documented
separately in this directory). Information from zero or more special
obs\_def modules (such as *obs\_def\_1d\_state\_mod.f90* or
*obs\_def\_reanalysis\_bufr\_mod.f90*, documented in the obs\_def
directory) are incorporated into the template provided by
DEFAULT\_obs\_def\_kind. If no special obs\_def files are included in
the preprocessor namelist, a minimal *obs\_kind\_mod.f90* is created
which can only support identity forward observation operators.\
\
To add a new specific observation type, see the
[obs\_def\_mod](../../../observations/forward_operators/obs_def_mod.html)
documentation. If adding this type includes defining a new generic
observation quantity, then the quantity must be added to the table in
this file, with a unique integer value defined for it. The new value(s)
must also be added to the string-to-number section in the
*initialize\_module()* routine below. In a planned future update to the
preprocess program it is expected that this quantities table will become
autogenerated, much like the types table described below, so no editing
of this file will be needed. But until then, quantities must be added by
here, by hand. And note that they must be added to the template file,
*DEFAULT\_obs\_kind\_mod.F90* and not the output of the preprocess
program, *obs\_kind\_mod.f90*. The latter file is overwritten each time
preprocess runs, deleting any hand editing done on that file.\
\
The rest of this documentation describes the special formatting that is
included in the DEFAULT\_obs\_kind\_mod in order to guide the preprocess
program. Two sections of code are inserted into the
DEFAULT\_obs\_def\_kind module from each of the special obs\_def modules
that are requested. The insertion point for each section is denoted by a
special comment line that must be included VERBATIM in
DEFAULT\_obs\_kind\_mod. These special comment lines and their
significance are:

1.  ! DART PREPROCESS INTEGER DECLARATION INSERTED HERE

    Each of the observation type identifiers are inserted here, and are
    given both the *parameter* and *public* attributes. The associated
    integer values are generated sequentially, starting at 1. If a
    different set of special obs\_def modules is specified via the
    namelist for preprocess, the integer value associated with a given
    observation type could change so these integers are for use internal
    to a given program execution only. Observation types are permanently
    and uniquely identified by a string with character values identical
    to the integer identifier here. In other words, an observation
    quantity with integer parameter identifier RAW\_STATE\_VARIABLE will
    always be associated with a string "RAW\_STATE\_VARIABLE" (see
    below).

2.  ! DART PREPROCESS OBS_QTY_INFO INSERTED HERE

    The entries for the obs\_kind\_info table are initialized here. This
    table has a row for each observation quantity defined in the public
    and integer parameter declarations discussed above. For each
    obs\_kind, the obs\_kind info table contains the following
    information:

    1.  The integer index associated with this observation quantity.
        This is the value that is defined in the integer parameter
        statement above.
    2.  A character string with maximum length 32 characters that
        uniquely identifies the observation quantity. This string is
        identical to the F90 identifier used in the integer parameter
        statements created above.
    3.  A generic variable quantity referenced by an integer. The
        obs\_kind\_mod contains a table that defines an integer
        parameter that uniquely identifies each generic observation
        quantity. Generic quantities can be associated with both a model
        state variable or an observation quantity. For instance, the
        generic quantity QTY\_U\_WIND\_COMPONENT might be associated
        with model U state variables, with
        RADIOSONDE\_U\_WIND\_COMPONENT observation types, and with
        ACARS\_U\_WIND\_COMPONENT observation types. The distinction
        between generic quantites and observation types is important and
        potentially confusing, so be careful to understand this point.
    4.  A logical variable indicating whether observations of this type
        are to be assimilated in the current experiment. This variable
        is set from the obs\_kind namelist (see obs\_kind\_mod.html in
        this directory). The default value here is false when the
        obs\_def\_mod is created by the preprocess program.
    5.  A logical variable indicating whether observations of this type
        are to be evaluated (forward operator computed and recorded) but
        not assimilated (again set by namelist). The default value here
        is false when the obs\_def\_mod is created by the preprocess
        program.
    6.  A logical variable indicating whether observations of this type
        should use precomputed forward operator values in the
        observation sequence file. The default value here is false when
        the obs\_def\_mod is created by the preprocess program.

[]{#Legalese}

<div class="top">

\[[top](#)\]

</div>

------------------------------------------------------------------------

Terms of Use
------------

DART software - Copyright UCAR. This open source software is provided by
UCAR, "as is", without charge, subject to all terms of use at
<http://www.image.ucar.edu/DAReS/DART/DART_download>

  ------------------ -----------------------------
  Contact:           DART core group
  Revision:          \$Revision\$
  Source:            \$URL\$
  Change Date:       \$Date\$
  Change history:    try "svn log" or "svn diff"
  ------------------ -----------------------------


